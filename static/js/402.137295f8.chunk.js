"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[402],{402:function(e,t,r){r.r(t),r.d(t,{default:function(){return x}});var a=r(433),n=r(439),s=r(791),c=r(87),i=r(689),l=r(690),o="Filter_container__L5eml",u="Filter_field__IlYZE",h="Filter_text__uqQRu",_="Filter_iconContainer__rVlMA",m="Filter_icon_search__iY3xd",d=r(184),f=function(e){var t=e.value,r=e.onChange;return(0,d.jsx)("div",{className:o,children:(0,d.jsxs)("div",{className:u,children:[(0,d.jsx)("span",{className:_,children:(0,d.jsx)("svg",{className:m,width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,d.jsx)("path",{d:"M15.5 15H14.71L14.43 14.73C15.41 13.59 16 12.11 16 10.5C16 6.91 13.09 4 9.5 4C5.91 4 3 6.91 3 10.5C3 14.09 5.91 17 9.5 17C11.11 17 12.59 16.41 13.73 15.43L14 15.71V16.5L19 21.49L20.49 20L15.5 15ZM9.5 15C7.01 15 5 12.99 5 10.5C5 8.01 7.01 6 9.5 6C11.99 6 14 8.01 14 10.5C14 12.99 11.99 15 9.5 15Z",fill:"black",fillOpacity:"0.54"})})}),(0,d.jsx)("label",{children:(0,d.jsx)("input",{className:h,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Filter by name...",value:t,onChange:r})})]})})},p=r(405),v={picture:"Characters_picture__WTKwM",container:"Characters_container__pLArP",gallery:"Characters_gallery__Xdkt9",list:"Characters_list__ZLTyH",item:"Characters_item__SWoud",hero:"Characters_hero__WafPG",avatar:"Characters_avatar__fs2qF",about:"Characters_about__8XDhL",title_elements:"Characters_title_elements__ZyTlM",text_name:"Characters_text_name__h0fwR",text_species:"Characters_text_species__KJ-kZ",btnPart:"Characters_btnPart__5HSob",loadMoreBtn:"Characters_loadMoreBtn__VwkoJ",icon_from:"Characters_icon_from__sA75I"},x=function(){var e=(0,p.Z)("characters",[]),t=(0,n.Z)(e,2),r=t[0],o=t[1],u=(0,p.Z)("pageNumber","1"),h=(0,n.Z)(u,2),_=h[0],m=h[1],x=(0,p.Z)("filter",""),C=(0,n.Z)(x,2),g=C[0],j=C[1],w=(0,s.useState)(""),N=(0,n.Z)(w,2),b=N[0],Z=N[1],y=(0,i.TH)();(0,s.useEffect)((function(){if(!(Number(_)>42))try{(0,l.q)(_).then((function(e){var t=e.map((function(e){var t=e.id,r=e.name,a=e.status,n=e.species,s=e.gender,c=e.origin,i=e.type;return{id:t,name:r,status:a,species:n,gender:s,image:e.image,origin:c,type:i}}));o((0,a.Z)(t))}))}catch(b){Z(b)}}),[o,_]);var L=function(){var e=g.toLowerCase(),t=r.filter((function(t){return t.name.toLowerCase().includes(e)}));return(0,a.Z)(t).sort((function(e,t){return e.name.localeCompare(t.name)}))}();return(0,d.jsxs)("div",{className:v.container,children:[(0,d.jsx)("div",{className:v.picture}),(0,d.jsx)(f,{value:g,onChange:function(e){j(e.currentTarget.value)}}),(0,d.jsx)("div",{className:v.gallery,children:(0,d.jsx)("ul",{className:v.list,children:L.map((function(e){var t=e.id,r=e.name,a=e.species,n=e.image;return(0,d.jsx)("li",{className:v.item,children:(0,d.jsx)(c.rU,{className:v.link,to:"character/".concat(t),state:{from:y},children:(0,d.jsxs)("div",{className:v.hero,children:[(0,d.jsx)("div",{style:{"--bg-image":"url(".concat(n,")")},className:v.avatar}),(0,d.jsx)("div",{className:v.about,children:(0,d.jsxs)("div",{className:v.title_elements,children:[(0,d.jsx)("p",{className:v.text_name,children:r}),(0,d.jsx)("p",{className:v.text_species,children:a})]})})]})})},function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21,t="",r=crypto.getRandomValues(new Uint8Array(e));e--;){var a=63&r[e];t+=a<36?a.toString(36):a<62?(a-26).toString(36).toUpperCase():a<63?"_":"-"}return t}())}))})}),Number(_)<=42&&(0,d.jsxs)("div",{className:v.btnPart,children:[(0,d.jsx)("button",{type:"button",onClick:function(){m((function(e){return Number(e)+1}))},className:v.loadMoreBtn,children:"Load more"}),(0,d.jsx)("svg",{className:v.icon_from,width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,d.jsx)("path",{d:"M20 11H7.83L13.42 5.41L12 4L4 12L12 20L13.41 18.59L7.83 13H20V11Z",fill:"black"})})]}),42===_&&r&&(0,d.jsx)("p",{children:"You've reached the end of search results."}),b&&(0,d.jsx)("p",{children:"Error"})]})}},690:function(e,t,r){r.d(t,{q:function(){return i},z:function(){return l}});var a=r(861),n=r(757),s=r.n(n),c=r(243);c.Z.defaults.baseURL="https://rickandmortyapi.com/api";var i=function(){var e=(0,a.Z)(s().mark((function e(t){var r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,c.Z)("/character/?page=".concat(t));case 2:return r=e.sent,e.abrupt("return",r.data.results);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=(0,a.Z)(s().mark((function e(t){var r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,c.Z)("/character/".concat(t));case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},405:function(e,t,r){var a=r(439),n=r(791);t.Z=function(e,t){var r=(0,n.useState)((function(){try{var r=JSON.parse(localStorage.getItem(e));return r||t}catch(a){return t}})),s=(0,a.Z)(r,2),c=s[0],i=s[1];return(0,n.useEffect)((function(){localStorage.setItem(e,JSON.stringify(c))}),[c,e]),[c,i]}}}]);
//# sourceMappingURL=402.137295f8.chunk.js.map